{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap eea473839424d815ebf6","webpack:///./src/index.ts","webpack:///external \"@angular/core\"","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/platform-browser\"","webpack:///./src/ng2-sortable.directive.ts"],"names":[],"mappings":"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","file":"ng2-ui-sortable.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/platform-browser\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/platform-browser\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ng2-ui-sortable\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/platform-browser\"));\n\telse\n\t\troot[\"ng2-ui-sortable\"] = factory(root[\"@angular/core\"], root[\"@angular/forms\"], root[\"@angular/platform-browser\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eea473839424d815ebf6\n **/","import { NgModule } from '@angular/core';\nimport { FormsModule } from \"@angular/forms\";\nimport { BrowserModule  } from '@angular/platform-browser';\n\nimport { Ng2SortableDirective } from './ng2-sortable.directive';\n\nexport { Ng2SortableDirective };\n\n@NgModule({\n  imports: [ BrowserModule, FormsModule ],\n  declarations: [Ng2SortableDirective],\n  exports: [ Ng2SortableDirective ]\n})\nexport class Ng2SortableModule {}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/index.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@angular/core\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@angular/forms\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@angular/platform-browser\"\n ** module id = 3\n ** module chunks = 0\n **/","import {Component, ElementRef, ViewChild, Directive, ViewContainerRef, Output, EventEmitter} from '@angular/core'\n\n@Directive({\n  selector: '[ng2-sortable]'\n})\nexport class Ng2SortableDirective {\n\n  ulEl: HTMLElement;     // <ul>\n  liEls: NodeListOf<Element>;     // <li> <li>\n  draggingEl: HTMLElement;  // LI element that are currently dragging\n  elDragEnter: HTMLElement; // dragging element is over at this element\n  order: string[];            // order of LI ids\n\n  @Output() orderChanged = new EventEmitter();\n\n  constructor(public viewContainerRef: ViewContainerRef) {\n    this.ulEl = this.viewContainerRef.element.nativeElement;\n  }\n\n  ngAfterViewInit(): void {\n    this.liEls =  this.ulEl.querySelectorAll('li');\n    for (var i = 0; i < this.liEls.length; i++) {\n      var liEl = <HTMLElement>this.liEls[i];\n      // create a simple instance by default, it only adds horizontal recognizers\n      var mc = new Hammer(liEl);\n      // let the pan gesture support all directions.\n      // this will block the vertical scrolling on a touch-device while on the element\n      mc.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n\n      mc.on('panstart', this.dragStartHandler);\n      mc.on('panup pandown', this.dragHandler);\n      mc.on('panend', this.dragEndHandler);\n\n      this.emitOrderChanged();\n    }\n  }\n\n  dragStartHandler = event => {\n    //console.log('dragStartHandler');\n    this.draggingEl = event.target;\n    Object.assign(this.draggingEl.style, {\n      zIndex: 3,\n      pointerEvents: 'none'\n    });\n  };\n\n  dragHandler = event =>  {\n    //console.log('dragHandler');\n    Object.assign(this.draggingEl.style, {\n      transform: 'translate(0px,' + event.deltaY + 'px)'\n    });\n\n    var newElDragEnter = <HTMLLIElement>document.elementFromPoint(event.center.x, event.center.y);\n    if (this.elDragEnter !== newElDragEnter) {\n      if (this.elDragEnter) {                // remove class\n        this.elDragEnter.className = this.elDragEnter.className.replace(/\\ drag-enter/g, '');\n      }\n      this.elDragEnter = newElDragEnter;\n      if (newElDragEnter.tagName === 'LI') { // add class\n        newElDragEnter.className += ' drag-enter';\n      }\n    }\n  };\n\n  dragEndHandler = event => {\n    //console.log('dragEndHandler');\n    Object.assign(this.draggingEl.style, {\n      transform: 'translate(0,0)',\n      zIndex: 1,\n      pointerEvents: 'inherit'\n    });\n    // remove class and drop the element\n    if (this.elDragEnter) {\n      this.elDragEnter.className = this.elDragEnter.className.replace(/\\ drag-enter/g, '');\n      this.elDragEnter.parentNode.insertBefore(this.draggingEl, this.elDragEnter);\n      this.emitOrderChanged();\n    }\n  };\n\n  emitOrderChanged() {\n    let liEls = this.ulEl.querySelectorAll('li');\n    var orders = Array.prototype.slice.call(liEls).map(el => el.id);\n    this.orderChanged.emit(orders);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/ng2-sortable.directive.ts\n **/"],"sourceRoot":""}